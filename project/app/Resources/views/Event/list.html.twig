{% extends "::base.html.twig" %}

{% block title %}{{ parent() }} {% trans from "event" %}event.list{% endtrans %}{% endblock %}

{% block content %}
    <h3>{% trans from "event" %}event.list{% endtrans %}</h3>
    <a href="{{ path('intent_backend_event_create') }}" class="btn btn-default pull-right">{% trans from "event" %}event.create{% endtrans %}</a>
    <table class="table">
        <thead>
        <tr>
            <td>{% trans from "event" %}event.name{% endtrans %}</td>
            <td>{% trans from "event" %}event.active{% endtrans %}</td>
            <td>{% trans from "event" %}event.startAt{% endtrans %}</td>
            <td>{% trans from "event" %}event.endAt{% endtrans %}</td>
            <td>{% trans from "event" %}event.actions{% endtrans %}</td>
        </tr>
        </thead>
        <tbody>
        {% for event in entities %}
            <tr>
                <td>{{ event.name }}</td>
                <td>
                    {% if "now"|date("d.m.Y") >= event.startAt|date('d.m.Y') and "now"|date("d.m.Y") < event.endAt|date('d.m.Y') %}
                        <span class="glyphicon glyphicon-ok"/>
                    {% else %}
                        <span class="glyphicon glyphicon-remove"/>
                    {% endif %}
                </td>
                <td>{{ event.startAt|date('d.m.Y') }}</td>
                <td>{{ event.endAt|date('d.m.Y') }}</td>
                <td><a class="table-padding" href="{{ path('intent_backend_event_edit',{'id' : event.id}) }}"><span class="glyphicon glyphicon-pencil"/></a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% include '::pagination.html.twig' with { 'default_page': 'event' } %}
{% endblock %}
